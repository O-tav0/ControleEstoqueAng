<div class="container">
    <div class="jumbotron">
        <form (ngSubmit)="realizarPedido()" [formGroup]="formTeste" class="form-group">
            <div class="row">
                <label class="titulo"> Cliente </label>
                
            </div>
            <div class="row">
                <div class="div">
                     <div *ngIf="produtosDosItens.length > 0" class="carrinho">Itens no: <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                        <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                      </svg> {{produtosDosItens.length}} </div>
                </div>
               
            </div>
            <div class="row">
                <div class="form-group">
                    <label> Cliente </label>
                    <select formControlName="idClientePedido" class="form-select">
                        <option *ngFor="let cli of listaDosClientes | async" value="{{cli.id_cliente}}"> {{cli.nome}}
                        </option>
                    </select>
                </div>
            </div>

            <div class="row">
                <label class="tituloItens"> Items do Pedido </label>

                <div class="form-group">
                    <div class="row">
                        <div class=" col col-md-5"> <label> Escolha o Produto </label>
                        </div>         
                    </div>

                    <div class="row">
                        <div class="col col-md-6">
                            <select formControlName="ProdItem" class="form-select">
                                <option *ngFor="let prod of listaDosProdutos | async" value="{{prod.id_produto}}">
                                    {{prod.nome}}
                                </option>
                            </select>
                        </div>                     
                            <div class="col col-md-3">
                            <button type="button" class="btn btn-success adicionarItem" (click)="adicionarItemPedido()"> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-cart-plus" viewBox="0 0 16 16">
                                <path d="M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"/>
                                <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                              </svg> Adicionar </button>
                        </div>
                        <div class="col col-md-3"> 
                            <button type="submit" class="btn btn-primary finalizarPedido"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-cart-check" viewBox="0 0 16 16">
                                <path d="M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
                                <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                              </svg> Finalizar </button>
                        </div>       
                    </div>
                </div>
            </div>     
        </form>
        <table class="tabelaDeItens" *ngIf="produtosDosItens.length > 0">
                <tr class="tituloRodape centro">
                    <th>
                        Nome do Produto
                    </th>
                    <th>
                        Quantidade
                    </th>
                    <th>
                        Valor do Item
                    </th>
                </tr>
                <tr *ngFor="let prodIten of produtosDosItens" class="itens">
                    <td>
                        {{prodIten.nome}}
                    </td>
                    <td>
                        <button type="button" (click)="diminuirQtdItem(produtosDosItens.indexOf(prodIten))" class="btn btn-outline-secondary botaoMenos">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="20" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                          </svg>    
                        </button> 

                        <div class="qtdeItem">{{prodIten.qtde}} </div>

                        <button type="button" class="btn btn-outline-secondary botaoMais" (click)="aumentarQtdItem(produtosDosItens.indexOf(prodIten))"> <svg xmlns="http://www.w3.org/2000/svg" width="25" height="20" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg> </button>
                    </td>
                    <td>
                        {{prodIten.valor | currency: 'BRL': true}}
                    </td>
                </tr>
                <tr class="tituloRodape">
                    <td>
                        Total do Pedido:
                    </td>
                    <td>
                        &nbsp;
                    </td>
                    <td class="labelTotal">
                        {{totalPedido | currency: 'BRL': true}}
                    </td>
                </tr>
        </table>
    </div>
</div>